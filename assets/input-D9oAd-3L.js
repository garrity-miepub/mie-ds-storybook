import{a6 as b,h as k,t as u,a7 as i,a8 as y,v as t}from"./store-DKrw96s8.js";import{l as h}from"./events-CYuOk1VT.js";function E(e,l,a=l){var f=b();h(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=_(e)?d(o):o,a(o),f&&o!==(o=l())){var c=e.selectionStart,s=e.selectionEnd;e.value=o??"",s!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(s,e.value.length))}}),k(l)==null&&e.value&&a(_(e)?d(e.value):e.value),u(()=>{var r=l();_(e)&&r===d(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const n=new Set;function q(e,l,a,f,r=f){var o=a.getAttribute("type")==="checkbox",c=e;if(l!==null)for(var s of l)c=c[s]??(c[s]=[]);c.push(a),h(a,"change",()=>{var v=a.__value;o&&(v=S(c,v,a.checked)),r(v)},()=>r(o?[]:null)),u(()=>{var v=f();o?(v=v||[],a.checked=v.includes(a.__value)):a.checked=i(a.__value,v)}),y(()=>{var v=c.indexOf(a);v!==-1&&c.splice(v,1)}),n.has(c)||(n.add(c),t(()=>{c.sort((v,m)=>v.compareDocumentPosition(m)===4?-1:1),n.delete(c)})),t(()=>{})}function B(e,l,a=l){h(e,"change",f=>{var r=f?e.defaultChecked:e.checked;a(r)}),k(l)==null&&a(e.checked),u(()=>{var f=l();e.checked=!!f})}function S(e,l,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(l),Array.from(f)}function _(e){var l=e.type;return l==="number"||l==="range"}function d(e){return e===""?null:+e}export{E as a,B as b,q as c};
